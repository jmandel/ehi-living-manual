# Chapter 4.4: Coverage & Filing Order

*Understand how Epic orchestrates the complex dance of multiple insurance payers, from primary through tertiary, and how patient responsibility is calculated.*

### The Coverage Master: Your Insurance Hub

At the heart of Epic's insurance management is the **COVERAGE** table—a deceptively simple structure that anchors a complex web of relationships. Each coverage record represents one insurance policy for one patient, but the magic happens when multiple coverages interact.

<example-query description="View a patient's complete insurance picture">
SELECT 
  c.COVERAGE_ID,
  c.COVERAGE_TYPE_C_NAME as coverage_type,
  c.PAYOR_ID_PAYOR_NAME as payor_name,
  c.PLAN_ID_BENEFIT_PLAN_NAME as plan_name,
  c.GROUP_NAME as employer_group,
  c.GROUP_NUM as group_number,
  cm.MEM_NUMBER as member_id,
  cm.MEM_REL_TO_SUB_C_NAME as relationship,
  pf.FILING_ORDER
FROM COVERAGE c
LEFT JOIN COVERAGE_MEMBER_LIST cm ON c.COVERAGE_ID = cm.COVERAGE_ID
LEFT JOIN PAT_CVG_FILE_ORDER pf ON c.COVERAGE_ID = pf.COVERAGE_ID
WHERE cm.PAT_ID = 'Z7004242'
ORDER BY pf.FILING_ORDER;
</example-query>

**Key Insight**: The `COVERAGE_TYPE_C_NAME` field distinguishes between "Indemnity" (traditional insurance) and "Managed Care" (HMO/PPO). This affects how claims are processed and what approvals are needed.

### Understanding Coverage Components

Epic splits coverage information across multiple tables for flexibility:

- **COVERAGE**: Core policy information
- **COVERAGE_MEMBER_LIST**: Links patients to policies (handles dependents)
- **PAT_CVG_FILE_ORDER**: Determines which insurance pays first
- **COVERAGE_BENEFITS**: Specific benefit details (when populated)

<example-query description="Find all family members on the same coverage">
SELECT 
  cm.PAT_ID,
  p.PAT_NAME,
  cm.MEM_REL_TO_SUB_C_NAME as relationship,
  cm.MEM_NUMBER,
  cm.MEM_EFF_DATE,
  cm.MEM_TERM_DATE,
  cm.MEM_COVERED_YN as currently_covered
FROM COVERAGE_MEMBER_LIST cm
JOIN PATIENT p ON cm.PAT_ID = p.PAT_ID
WHERE cm.COVERAGE_ID = 5934765  -- Our sample coverage
ORDER BY cm.LINE;
</example-query>

---

### Filing Order: The Payment Hierarchy

**Filing order** determines the sequence in which insurance companies are billed. It's the cornerstone of coordination of benefits (COB).

#### The P/S/T System

- **Primary (1)**: First payer, processes claim as if no other insurance exists
- **Secondary (2)**: Receives claim after primary, pays remaining eligible charges
- **Tertiary (3)**: Third in line (rare, often for special circumstances)

<example-query description="See filing order for all of a patient's coverages">
SELECT 
  pf.FILING_ORDER,
  CASE pf.FILING_ORDER
    WHEN 1 THEN 'Primary'
    WHEN 2 THEN 'Secondary'
    WHEN 3 THEN 'Tertiary'
    ELSE 'Other'
  END as filing_position,
  c.PAYOR_ID_PAYOR_NAME as payor,
  c.PLAN_ID_BENEFIT_PLAN_NAME as plan,
  c.CVG_EFF_DT as effective_date,
  c.CVG_TERM_DT as term_date
FROM PAT_CVG_FILE_ORDER pf
JOIN COVERAGE c ON pf.COVERAGE_ID = c.COVERAGE_ID
WHERE pf.PAT_ID = 'Z7004242'
ORDER BY pf.FILING_ORDER;
</example-query>

#### Why Filing Order Matters

The filing order affects:
1. **Claim Flow**: Primary must complete before secondary begins
2. **Patient Cost**: Each payer reduces the balance
3. **Timely Filing**: Each payer has different deadlines
4. **Authorization**: Primary authorization may suffice for secondary

---

### Coordination of Benefits (COB) Rules

COB rules determine which insurance is primary when a patient has multiple coverages. Epic can apply these automatically or allow manual override.

#### Common COB Scenarios

**1. Employee vs. Dependent**
```
Employee's own employer insurance → Primary
Spouse's employer insurance → Secondary
```

**2. Birthday Rule (for children)**
- Parent whose birthday comes first in the calendar year → Primary
- Not about age, but month and day

**3. Active vs. Retired**
- Active employment coverage → Primary
- Retirement coverage → Secondary

**4. Medicare Secondary Payer (MSP)**
Medicare becomes secondary when:
- Patient 65+ still working with employer coverage (20+ employees)
- Disability with large group coverage
- End-Stage Renal Disease (first 30 months)
- Workers' compensation or auto accident

<example-query description="Identify potential Medicare secondary payer scenarios">
-- This query would check for Medicare coverage with filing_order > 1
-- In our sample data, we'll demonstrate the concept
SELECT 
  c.COVERAGE_ID,
  c.PAYOR_ID_PAYOR_NAME,
  pf.FILING_ORDER,
  p.BIRTH_DATE,
  -- Calculate age
  CAST((JULIANDAY('2024-01-01') - JULIANDAY(p.BIRTH_DATE)) / 365.25 AS INT) as age,
  CASE 
    WHEN c.PAYOR_ID_PAYOR_NAME LIKE '%MEDICARE%' AND pf.FILING_ORDER > 1 
    THEN 'Medicare Secondary'
    WHEN c.PAYOR_ID_PAYOR_NAME LIKE '%MEDICARE%' AND pf.FILING_ORDER = 1 
    THEN 'Medicare Primary'
    ELSE 'Non-Medicare'
  END as medicare_position
FROM COVERAGE c
JOIN PAT_CVG_FILE_ORDER pf ON c.COVERAGE_ID = pf.COVERAGE_ID
JOIN PATIENT p ON pf.PAT_ID = p.PAT_ID
WHERE pf.PAT_ID = 'Z7004242';
</example-query>

---

### Coverage Spans and Timeline Management

Insurance coverage isn't static—patients gain and lose coverage, change plans, and experience gaps. Epic tracks this through effective and termination dates.

<example-query description="Build a coverage timeline for a patient">
WITH coverage_timeline AS (
  SELECT 
    c.COVERAGE_ID,
    c.PAYOR_ID_PAYOR_NAME as payor,
    c.PLAN_ID_BENEFIT_PLAN_NAME as plan_name,
    cm.MEM_EFF_DATE as start_date,
    cm.MEM_TERM_DATE as end_date,
    pf.FILING_ORDER,
    -- Check if currently active
    CASE 
      WHEN cm.MEM_TERM_DATE IS NULL OR cm.MEM_TERM_DATE > DATE('now') 
      THEN 'Active'
      ELSE 'Terminated'
    END as status
  FROM COVERAGE c
  JOIN COVERAGE_MEMBER_LIST cm ON c.COVERAGE_ID = cm.COVERAGE_ID
  JOIN PAT_CVG_FILE_ORDER pf ON c.COVERAGE_ID = pf.COVERAGE_ID
  WHERE cm.PAT_ID = 'Z7004242'
)
SELECT * FROM coverage_timeline
ORDER BY start_date, FILING_ORDER;
</example-query>

#### Retroactive Coverage

One of the biggest challenges in healthcare billing is **retroactive coverage**—when insurance is added or discovered after services were rendered.

Common scenarios:
- Medicaid approval retroactive to application date
- COBRA election retroactive to termination
- Newborn coverage retroactive to birth
- Insurance verification delays

When retroactive coverage is added:
1. Previous self-pay charges may need reprocessing
2. Payments already collected may need refunding
3. Claims must be submitted within timely filing limits
4. Filing order for existing claims may shift

---

### The Subscriber-Member Relationship

Understanding who holds the policy versus who's covered is crucial for billing:

- **Subscriber**: The policy holder (employee, Medicare beneficiary)
- **Member**: Anyone covered under that policy (employee, spouse, children)
- **Guarantor**: Who's financially responsible (may differ from subscriber)

<example-query description="Explore subscriber vs member relationships">
SELECT 
  -- Coverage info
  c.COVERAGE_ID,
  c.PAYOR_ID_PAYOR_NAME as insurance_company,
  
  -- Member (patient) info
  cm.PAT_ID as member_id,
  member.PAT_NAME as member_name,
  cm.MEM_REL_TO_SUB_C_NAME as relationship_to_subscriber,
  
  -- Subscriber info
  COALESCE(c.PAT_REC_OF_SUBS_ID, cm.PAT_ID) as subscriber_id,
  CASE 
    WHEN cm.MEM_REL_TO_SUB_C_NAME = 'Self' THEN member.PAT_NAME
    ELSE 'Different Person'
  END as subscriber_name
  
FROM COVERAGE c
JOIN COVERAGE_MEMBER_LIST cm ON c.COVERAGE_ID = cm.COVERAGE_ID
JOIN PATIENT member ON cm.PAT_ID = member.PAT_ID
WHERE cm.COVERAGE_ID = 5934765;
</example-query>

---

### Working with EOBs and Payment Information

After claims are processed, the Explanation of Benefits (EOB) data flows back into Epic, showing what was paid, denied, or adjusted.

<example-query description="Analyze EOB payment patterns">
SELECT 
  tx.TX_ID,
  tx.SERVICE_DATE,
  tx.CPT_CODE,
  tx.AMOUNT as charge_amount,
  
  -- EOB details
  eob.CVD_AMT as covered_amount,
  eob.NONCVD_AMT as non_covered,
  eob.DED_AMT as deductible,
  eob.COINS_AMT as coinsurance,
  eob.PAID_AMT as insurance_paid,
  
  -- Calculate patient responsibility
  (eob.DED_AMT + eob.COINS_AMT) as patient_resp
  
FROM ARPB_TRANSACTIONS tx
JOIN PMT_EOB_INFO_I eob ON tx.TX_ID = eob.TX_ID
WHERE tx.TX_TYPE_C_NAME = 'Charge'
  AND eob.PAID_AMT IS NOT NULL
ORDER BY tx.SERVICE_DATE DESC
LIMIT 10;
</example-query>

---

### Benefit Details and Cost Sharing

While the core COVERAGE table provides basic information, detailed benefits often live in related tables or require real-time eligibility checks.

Key cost-sharing components:
- **Deductible**: Annual amount before insurance pays
- **Coinsurance**: Percentage patient pays after deductible
- **Copay**: Fixed amount for specific services
- **Out-of-Pocket Maximum**: Annual limit on patient costs

<example-query description="Extract cost sharing information from coverage">
SELECT 
  c.COVERAGE_ID,
  c.PAYOR_ID_PAYOR_NAME as payor,
  
  -- Cost sharing from COVERAGE table
  c.ECD_TABLE_DEF_COPAY as copay_structure,
  c.COINSURANCE_OVR as coinsurance_override,
  
  -- Member-specific accumulations
  cm.YTD_COINS_AMT as ytd_coinsurance,
  cm.MEM_COVERED_YN as coverage_verified
  
FROM COVERAGE c
JOIN COVERAGE_MEMBER_LIST cm ON c.COVERAGE_ID = cm.COVERAGE_ID
WHERE cm.PAT_ID = 'Z7004242';
</example-query>

---

### Common Pitfalls and Best Practices

#### Pitfall 1: Assuming Current Coverage
Always check effective and termination dates. Yesterday's primary might be today's terminated coverage.

#### Pitfall 2: Ignoring Retroactive Changes
Build processes that can handle coverage changes after the fact. This is not an edge case—it's routine.

#### Pitfall 3: Filing Order Confusion
Remember that filing order can be different for different service types (medical vs. pharmacy vs. dental).

#### Best Practice: Coverage Verification
```sql
-- Always verify coverage is active for the service date
SELECT COUNT(*) as active_coverage_count
FROM COVERAGE c
JOIN COVERAGE_MEMBER_LIST cm ON c.COVERAGE_ID = cm.COVERAGE_ID
JOIN PAT_CVG_FILE_ORDER pf ON c.COVERAGE_ID = pf.COVERAGE_ID
WHERE cm.PAT_ID = 'Z7004242'
  AND (cm.MEM_EFF_DATE IS NULL OR cm.MEM_EFF_DATE <= '2024-01-15')
  AND (cm.MEM_TERM_DATE IS NULL OR cm.MEM_TERM_DATE >= '2024-01-15')
  AND cm.MEM_COVERED_YN = 'Y';
```

---

### Advanced Topic: Group Coverage and Sponsors

Large employers and organizations often have custom benefit structures tracked through group and sponsor relationships.

<example-query description="Explore group coverage structures">
SELECT DISTINCT
  c.GROUP_NAME,
  c.GROUP_NUM,
  c.PAYOR_ID_PAYOR_NAME,
  COUNT(DISTINCT cm.PAT_ID) as covered_members
FROM COVERAGE c
JOIN COVERAGE_MEMBER_LIST cm ON c.COVERAGE_ID = cm.COVERAGE_ID
WHERE c.GROUP_NAME IS NOT NULL
GROUP BY c.GROUP_NAME, c.GROUP_NUM, c.PAYOR_ID_PAYOR_NAME
ORDER BY covered_members DESC;
</example-query>

---

### Key Takeaways

1. **Coverage is temporal**: Always consider effective dates when querying
2. **Filing order drives flow**: Primary → Secondary → Patient
3. **COB rules are complex**: But follow predictable patterns
4. **Retroactive changes are normal**: Build flexible processes
5. **The subscriber-member distinction matters**: For billing and authorization
6. **Benefits determine patient cost**: Through deductibles, coinsurance, and copays
7. **EOBs close the loop**: Showing what was actually paid vs. billed

Understanding coverage and filing order transforms raw billing data into actionable insights about patient financial responsibility and revenue cycle performance. Master these concepts, and you'll unlock the ability to trace every dollar from charge to payment to patient balance.

---

### Next Steps
→ Continue to Chapter 5.1: Parsing Epic TSVs